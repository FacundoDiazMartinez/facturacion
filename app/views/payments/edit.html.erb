<div class="modal-header">
  <h5 class="modal-title" id="clientModalTitle"><%= icon('fas', 'users').html_safe %> Editar pago</h5>
  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<%= nested_form_for @payment, url: payments_payment_path(@payment.id) do |f| %>
  <div class="modal-body">
    <div class="form-group">
      <%= hidden_field_tag :edited_payment_id, @payment.id %>
      <%= f.label :type_of_payment, "Tipo de pago" %>
      <%= f.select :type_of_payment, options_for_select(Payment::TYPES.map{|k,v| [v,k] unless k == "6"}.compact, @payment.type_of_payment), {prompt: "Seleccione..."}, {class: 'form-control edit_type_of_payment', disabled: !@invoice.editable?} %>
    </div>

    <div class="form-group">
      <%= f.label :payment_date, "Fecha" %>
      <%= f.text_field :payment_date, class: 'form-control form-control-sm datepicker', disabled: !@invoice.editable? %>
    </div>
    <%= label_tag :amount_left, "Monto faltante: " %>
    <span id="total_left_venta">$ <%= @invoice.total_left %></span>

    <div id="edit_payment_detail"><%= render "/payments/#{@payment.type_of_payment_name}/form" %></div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
    <%= save_button %>
  </div>
<% end -%>
