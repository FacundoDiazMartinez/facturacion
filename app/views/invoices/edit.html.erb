<div class="p-4">
	<% if @invoice.editable? %>
		<div class="row">
			<h1 class="h2"><%= icon('fas', 'hand-holding-usd') %> Generar Factura</h1>
			<button class="btn btn-primary invoice-header-right" role="button" onclick="toggleHeader()">Encabezado</button>
		</div>
	<% else %>
		<div class="row">
			<h1 class="h2"><%= icon('fas', 'hand-holding-usd') %> Factura NÂº <%= @invoice.comp_number %></h1>
			<button class="btn btn-primary invoice-header-right" role="button" onclick="toggleHeader()">Encabezado</button>
		</div>
		<% if @invoice.state == "Confirmado" %>
			<% if @invoice.receipt_id.blank? %>
				<%= link_to "#{icon('fas', 'file-invoice')} Generar remito".html_safe, set_associated_invoice_delivery_notes_path(associated_invoice: @invoice.id, invoice_comp_number: @invoice.full_number), class: 'btn btn-success invoice-header-right' %>
			<% else %>
				<%= link_to "#{icon('fas', 'file-invoice')} Generar remito".html_safe, set_associated_invoice_delivery_note_path(@invoice.receipt_id, associated_invoice: @invoice.id, invoice_comp_number: @invoice.full_number), class: 'btn btn-success invoice-header-right' %>
			<% end -%>
		<% end -%>
	<% end %>
	<div id="invoice_form">
		<%= render '/invoices/form' %>
	</div>
</div>

<script type="text/javascript">
	function toggleHeader(){
		var display = $(".invoice-header").css('display');
		if (display == 'block'){
			$(".invoice-header").hide('fast')
		} 
		else{
			$(".invoice-header").show('fast')
		}
	}
</script>
